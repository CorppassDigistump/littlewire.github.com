<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>Little Wire</title>

  
  
  <link rel="stylesheet" href="style.css" type="text/css">

  
  <script type="text/javascript">

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-27159354-1']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

  </script>
</head><body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);" alink="#706c3c" link="#330000" vlink="#06992a">
<div style="position: absolute; left: 20px; top: 30px; font-family: Lucida Sans Typewriter; font-weight: bold;" id="pageName"><big><big>Little Wire<br>
</big></big></div>

<br>

<div style="position: fixed; top: 110px; left: 890px; list-style-type: none; font-family: Malgun Gothic; font-weight: inherit; line-height: 1.1em; font-size: 0.8em;" id="fixedNavigation"><span style="font-weight: bold;">Little Wire</span><br>
* <a href="./index.html">intro</a><br>
* <a href="./documentation.html">documentation</a><br>
* <a href="http://blog.kehribar.me/?cat=4">news</a><br>
* <a href="./downloads.html">downloads</a><br>
* <a href="./pwm_servo.html">pwm &amp; servo</a><br>
* <a href="./avrdude.html">avrdude setup</a><br>
<!-- * <a href="./eclipse_setup.php">eclipse setup</a><br> -->
<!-- * <a href="./avr_studio.php">Avr Studio setup</a><br> -->* <a href="./c_library.html">C library</a><br>
* <a href="./c++">C++ library</a><br>
* <a href="./processing">Processing library</a><br>
<!-- * <a href="./csharp_library.php">C# library</a><br> -->
</div>

<div style="border-style: dotted; border-width: 1px; font-family: Lucida Console; font-size: 0.8em; line-height: 1.1em; font-weight: inherit; padding-left: 6px; padding-top: 6px; padding-bottom: 10px; width: 853px; z-index: 3; left: 20px; top: 95px; position: absolute;" id="mainText">
<div id="myPhoto"><img title="More or less ... Source: http://www.seattlerobotics.org/encoder/200106/fig1.jpg" style="height: 190px; float: right; margin-right: 10px; margin-top: 5px; width: 226px;" alt="" src="servoSignal.jpg" align="right"></div>
&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; You can control the "on time" of the PWM sigals with
updatePwmCompare function / method. PWM signals available on Little
Wire have resoultion of 8 bits. That means if you give 128 as compare
value, output signal will be half time high, half time low.<br>
<br>
&nbsp;&nbsp;&nbsp; You can also change frequency of the output signal
by changing prescale value. Default value is 1024 which corresponds to
63 Hz. This is the closest one to standart servo driving signal.<br>
<br>
&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; ~ 64 kHz<br>
&nbsp;&nbsp;&nbsp; 8&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; ~ 8 kHz<br>
&nbsp;&nbsp;&nbsp; 64&nbsp;&nbsp;&nbsp; &nbsp; ~ 1 kHz<br>
&nbsp;&nbsp;&nbsp; 256&nbsp;&nbsp;&nbsp;&nbsp; ~ 252 Hz<br>
&nbsp;&nbsp;&nbsp; 1024&nbsp;&nbsp;&nbsp; ~ 63 Hz<br>
<br>
&nbsp;&nbsp;&nbsp; In theory, when 20 ms perioded PWM signals between
0.8 ms and 2.2 ms "on time" applied, standart servos travel between
their limits. But i experienced that each servo behaves differently.
So, instead of writing a servo driving function based on those theoric
values, i supplied a rather low level PWM control function. So, here a
little calculation:<br>
<br>
&nbsp;&nbsp;&nbsp; 63 Hz =&gt; 15.8 ms period. <br>
&nbsp;&nbsp;&nbsp; We have 8bit resolution. -&gt; 256 step<br>
&nbsp;&nbsp;&nbsp; Therefore, each compare value corresponds to =&gt;
0.06 ms <br>
&nbsp;&nbsp;&nbsp; We are looking for 0.8 ms and 2.2 ms for our
theoretic boundaries<br>
&nbsp;&nbsp;&nbsp; 0.8 / 0.06 = ~ 13 unit<br>
&nbsp;&nbsp;&nbsp; 2.2 / 0.06 = ~ 36 unit<br>
<br>
&nbsp;&nbsp;&nbsp; That means if you want to drive a servo, first make
sure PRM prescaler is at default value 1024 and then start by giving 13
to 36 as compare value and observe the behaviour of your servo.
According to your observations take notes about which compare values
bring your servo to its edges.<br>
<br>
<span style="font-weight: bold;">UPDATE: </span>I recently wrote a
servo library for Little-Wire. It basically gives higher level access
to PWM functions. I took the end limit assumptions from Arduino
library. If you want to have more control over it, change the limit
definitons or use low level PWM functions.<br>
<br>
</div>

</body></html>
